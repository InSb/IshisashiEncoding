# GB 18030 系列
## 所收编码
### 实际存在
- GB 18030-2000
- GB 18030-2005

### 架空编码
- GB 18030-Ishisashi
- GB 18030-IshisashiK

## 解说
GB 18030 的创制目标是完全兼容 GB 2312、基本兼容 GBK，且达到 UTF 的效果。

GB 18030-2000 为原本，在 Windows 代码页为 CP54936。

GB 18030-2005 在 2000 的基础上互换了「ḿ」和「」的映射。

GB 18030-Ishisashi 是在 2005 的基础上，将 GBK-PUA 遗留全部转正。

GB 18030-IshisashiK 在 2000 的基础上，使其变为 GBK 的直接扩充。

## 字节结构
IshisashiK 以外的字节结构如下：

|字节数|第一字节|第二字节|第三字节|第四字节|码位数|注释|
|-|-|-|-|-|-|-|
|单字节|0x00~0x7F||||128||
|双字节|0x81~0xFE|0x40\~0x7E, 0x80\~0xFE|||23940|第二字节跳过了「0x7F」。|
|四字节|0x81~0xFE|0x30~0x39|0x81~0xFE|0x30~0x39|1587600||

虽然码位数摆在这里，实际上很难用这么多。

而 IshisashiK 的字节结构如下：

|字节数|第一字节|第二字节|第三字节|第四字节|码位数|注释|
|-|-|-|-|-|-|-|
|单字节|0x00~0x80||||129|为兼容 GBK 的单字节欧元，多了「0x80」。|
|双字节|0x81~0xFE|0x40\~0x7E, 0x80\~0xFE|||23940|第二字节跳过了「0x7F」。|
|四字节|0x81~0xFE|0x30~0x39|0x81~0xFE|0x30~0x39|1587599|IshisashiK 中没有「0x8336C739」。|

## 与 Unicode 的对应关系
对于单字节（特指 0x00~0x7F）部分，GB 2312 的单字节部分和 Unicode 的 U+0000~U+007F 都源自 ASCII，因此相同。

双字节部分源自 GBK/GB 2312，因此没有转换公式。

对于 2000，四字节 BMP 部分则是将双字节没有的 BMP 部分顺次排下来。

而 non-BMP 部分则是直接通过 Unicode Code Point 的转换公式转换而来的（但是在 Ishisashi 被打破）

### non-BMP 的转换公式（Ishisashi 以外）
先将 Unicode Code Point 减去 0x10000。

然后除以 12600，取出商和余数，分别记作 a₁ 和 b₁。

将 b₁ 除以 1260，取出商和余数，分别记作 a₂ 和 b₂。

再将 b₂ 除以 10，取出商和余数，分别记作 a₃ 和 b₃。

则四个字节分别是：
- a₁+0x90
- a₂+0x30
- a₃+0x81
- b₃+0x30
